# Knowing what you don’t know: Estimating the uncertainty of feedforward and feedback inputs with prediction-error circuits

This repository provides the source code to reproduce the figures and analyses from the paper [Knowing what you don’t know: Estimating the uncertainty of feedforward and feedback inputs with prediction-error circuits](https://www.biorxiv.org/content/10.1101/2023.12.13.571410v1).

## Requirements

This Python code (version 3.8.8) was developed and tested on macOS Monterey Version 12.2.1. The file *environment.yml* contains an exhaustive list of the packages and dependencies for the conda environment used. 

## Installation

Clone this repository:
> git clone https://github.com/lhertaeg/weighted_sensory_prediction/

Recreate the conda environment to install the required Python packages/libraries:
> conda env create --name weighting_env --file environment.yml

Install the project:
> pip install -e .

The installation should only take a couple of minutes.

## Organization & Reproduction

* **results**: contains data generated by the files in *scripts*
  * **figures**: contains the figures (can be regenerated from the respective files in *scripts*)
  * **data**: will contain the simulation results (grouped into folders) after the respective files have been run
* **scripts**: contains the scripts that generate the simulation data and the figures. First, run the file "run_\*.py" to generate the data. Please note that you will have to set flags in the file to either re-run the simulations or use previously generated data. The expected run time varies across the experiments and can take between a few seconds and a few hours. Progress information for long experiments will be available. Subsequently, run the file "plot_\*.py" to create the figures. This only takes less than a minute.
* **src**: contains the code that is shared by several scripts



